{% extends "template/template.twig" %}
{% block styles %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.16/datatables.min.css"/>
{% endblock %}
{% block content %}
{% set n = 1 %}
<h2>Estudiantes del curso {{ course.nombre | lower }}</h2>
    <table>
        <thead>
            <tr>
                <th>id</th>
                <th>Nombres</th>
                <th>Usuario</th>
                <th>Tipo</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ n }}</td>
                <td>{{ student.student.nombres }} {{ student.student.apellidos }}</td>
                <td><a href="/panel/search/program/courses/usuarios/info/{{student.student.id}}">{{ student.student.usuario }}</a></td>
                <td>{{ student.rol }}</td>
            </tr>
            {% set n = n + 1 %}
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
{% block scripts %}
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.16/datatables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.flash.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>

<script>
     $('table').DataTable({
       dom: 'Bfrtip',
        buttons : [{
            extend: 'excel',
            title: 'Estudiantes del curso {{ course.nombre | lower }}',
            text: '<i class="icon icon-file-text-o"></i> Descargar en excel',
            className: 'btn btn-success'
        }],
        lengthMenu: [ 25, 50, 75, 100 ],
        language: {
            "lengthMenu": "Mostrar _MENU_ registros por pagina",
            "zeroRecords": "No hay resultados",
            "info": "Pagina _PAGE_ de _PAGES_",
            "infoEmpty": "No registros disponible",
            "infoFiltered": "(Busqueda de _MAX_ total registros)",
            "processing": "Procesando...",
            "search": "Buscar:",
            "loadingRecords": "Cargando...",
            "next" : "Siguiente",
            "paginate": {
                "first":      "Primera",
                "last":       "Ultima",
                "next":       "Siguiente",
                "previous":   "Anterior"
            },
        }
     });
</script>
{% endblock %}